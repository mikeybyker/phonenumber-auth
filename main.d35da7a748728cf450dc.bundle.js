webpackJsonp([1],{"+h1B":function(n,l,t){"use strict";var u=t("/oeL"),e=t("aR8+"),i=t("qbdv"),r=t("fc+i"),o=t("bm2B"),a=t("NXBG"),s=t("sEUi"),_=t("q4dy");t.d(l,"a",function(){return h});var c=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var t in l)l.hasOwnProperty(t)&&(n[t]=l[t])};return function(l,t){function u(){this.constructor=l}n(l,t),l.prototype=null===t?Object.create(t):(u.prototype=t.prototype,new u)}}(),f=function(n){function l(l){return n.call(this,l,[_.a],[_.a])||this}return c(l,n),Object.defineProperty(l.prototype,"_LOCALE_ID_11",{get:function(){return null==this.__LOCALE_ID_11&&(this.__LOCALE_ID_11=u.b(this.parent.get(u.c,null))),this.__LOCALE_ID_11},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_NgLocalization_12",{get:function(){return null==this.__NgLocalization_12&&(this.__NgLocalization_12=new i.a(this._LOCALE_ID_11)),this.__NgLocalization_12},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_Compiler_13",{get:function(){return null==this.__Compiler_13&&(this.__Compiler_13=new u.d),this.__Compiler_13},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_APP_ID_14",{get:function(){return null==this.__APP_ID_14&&(this.__APP_ID_14=u.e()),this.__APP_ID_14},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_IterableDiffers_15",{get:function(){return null==this.__IterableDiffers_15&&(this.__IterableDiffers_15=u.f()),this.__IterableDiffers_15},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_KeyValueDiffers_16",{get:function(){return null==this.__KeyValueDiffers_16&&(this.__KeyValueDiffers_16=u.g()),this.__KeyValueDiffers_16},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_DomSanitizer_17",{get:function(){return null==this.__DomSanitizer_17&&(this.__DomSanitizer_17=new r.b(this.parent.get(r.c))),this.__DomSanitizer_17},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_Sanitizer_18",{get:function(){return null==this.__Sanitizer_18&&(this.__Sanitizer_18=this._DomSanitizer_17),this.__Sanitizer_18},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_HAMMER_GESTURE_CONFIG_19",{get:function(){return null==this.__HAMMER_GESTURE_CONFIG_19&&(this.__HAMMER_GESTURE_CONFIG_19=new r.d),this.__HAMMER_GESTURE_CONFIG_19},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_EVENT_MANAGER_PLUGINS_20",{get:function(){return null==this.__EVENT_MANAGER_PLUGINS_20&&(this.__EVENT_MANAGER_PLUGINS_20=[new r.e(this.parent.get(r.c)),new r.f(this.parent.get(r.c)),new r.g(this.parent.get(r.c),this._HAMMER_GESTURE_CONFIG_19)]),this.__EVENT_MANAGER_PLUGINS_20},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_EventManager_21",{get:function(){return null==this.__EventManager_21&&(this.__EventManager_21=new r.h(this._EVENT_MANAGER_PLUGINS_20,this.parent.get(u.h))),this.__EventManager_21},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_ɵDomSharedStylesHost_22",{get:function(){return null==this.__ɵDomSharedStylesHost_22&&(this.__ɵDomSharedStylesHost_22=new r.i(this.parent.get(r.c))),this.__ɵDomSharedStylesHost_22},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_ɵDomRendererFactory2_23",{get:function(){return null==this.__ɵDomRendererFactory2_23&&(this.__ɵDomRendererFactory2_23=new r.j(this._EventManager_21,this._ɵDomSharedStylesHost_22)),this.__ɵDomRendererFactory2_23},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_RendererFactory2_24",{get:function(){return null==this.__RendererFactory2_24&&(this.__RendererFactory2_24=this._ɵDomRendererFactory2_23),this.__RendererFactory2_24},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_ɵSharedStylesHost_25",{get:function(){return null==this.__ɵSharedStylesHost_25&&(this.__ɵSharedStylesHost_25=this._ɵDomSharedStylesHost_22),this.__ɵSharedStylesHost_25},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_Testability_26",{get:function(){return null==this.__Testability_26&&(this.__Testability_26=new u.i(this.parent.get(u.h))),this.__Testability_26},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_Meta_27",{get:function(){return null==this.__Meta_27&&(this.__Meta_27=new r.k(this.parent.get(r.c))),this.__Meta_27},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_Title_28",{get:function(){return null==this.__Title_28&&(this.__Title_28=new r.l(this.parent.get(r.c))),this.__Title_28},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_FormBuilder_29",{get:function(){return null==this.__FormBuilder_29&&(this.__FormBuilder_29=new o.a),this.__FormBuilder_29},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_ɵi_30",{get:function(){return null==this.__ɵi_30&&(this.__ɵi_30=new o.b),this.__ɵi_30},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_AuthService_31",{get:function(){return null==this.__AuthService_31&&(this.__AuthService_31=new a.a),this.__AuthService_31},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_TruncatePipe_32",{get:function(){return null==this.__TruncatePipe_32&&(this.__TruncatePipe_32=new s.a),this.__TruncatePipe_32},enumerable:!0,configurable:!0}),l.prototype.createInternal=function(){return this._CommonModule_0=new i.b,this._ErrorHandler_1=r.m(),this._APP_INITIALIZER_2=[u.j,r.n(this.parent.get(r.o,null),this.parent.get(u.k,null))],this._ApplicationInitStatus_3=new u.l(this._APP_INITIALIZER_2),this._ɵf_4=new u.m(this.parent.get(u.h),this.parent.get(u.n),this,this._ErrorHandler_1,this.componentFactoryResolver,this._ApplicationInitStatus_3),this._ApplicationRef_5=this._ɵf_4,this._ApplicationModule_6=new u.o(this._ApplicationRef_5),this._BrowserModule_7=new r.p(this.parent.get(r.p,null)),this._ɵba_8=new o.c,this._ReactiveFormsModule_9=new o.d,this._AppModule_10=new e.a,this._AppModule_10},l.prototype.getInternal=function(n,l){return n===i.b?this._CommonModule_0:n===u.p?this._ErrorHandler_1:n===u.q?this._APP_INITIALIZER_2:n===u.l?this._ApplicationInitStatus_3:n===u.m?this._ɵf_4:n===u.r?this._ApplicationRef_5:n===u.o?this._ApplicationModule_6:n===r.p?this._BrowserModule_7:n===o.c?this._ɵba_8:n===o.d?this._ReactiveFormsModule_9:n===e.a?this._AppModule_10:n===u.c?this._LOCALE_ID_11:n===i.c?this._NgLocalization_12:n===u.d?this._Compiler_13:n===u.s?this._APP_ID_14:n===u.t?this._IterableDiffers_15:n===u.u?this._KeyValueDiffers_16:n===r.q?this._DomSanitizer_17:n===u.v?this._Sanitizer_18:n===r.r?this._HAMMER_GESTURE_CONFIG_19:n===r.s?this._EVENT_MANAGER_PLUGINS_20:n===r.h?this._EventManager_21:n===r.i?this._ɵDomSharedStylesHost_22:n===r.j?this._ɵDomRendererFactory2_23:n===u.w?this._RendererFactory2_24:n===r.t?this._ɵSharedStylesHost_25:n===u.i?this._Testability_26:n===r.k?this._Meta_27:n===r.l?this._Title_28:n===o.a?this._FormBuilder_29:n===o.b?this._ɵi_30:n===a.a?this._AuthService_31:n===s.a?this._TruncatePipe_32:l},l.prototype.destroyInternal=function(){this._ɵf_4.ngOnDestroy(),this.__ɵDomSharedStylesHost_22&&this._ɵDomSharedStylesHost_22.ngOnDestroy()},l}(u.x),h=new u.y(f,e.a)},0:function(n,l,t){n.exports=t("cDNt")},"34O4":function(n,l,t){"use strict";var u=t("bm2B"),e=t("gvep"),i=(t.n(e),t("HHMy")),r=(t.n(i),t("mQGb"));t.d(l,"a",function(){return s});var o=this&&this.__awaiter||function(n,l,t,u){return new(t||(t=Promise))(function(e,i){function r(n){try{a(u.next(n))}catch(n){i(n)}}function o(n){try{a(u.throw(n))}catch(n){i(n)}}function a(n){n.done?e(n.value):new t(function(l){l(n.value)}).then(r,o)}a((u=u.apply(n,l||[])).next())})},a=this&&this.__generator||function(n,l){function t(n){return function(l){return u([n,l])}}function u(t){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,i&&(r=i[2&t[0]?"return":t[0]?"throw":"next"])&&!(r=r.call(i,t[1])).done)return r;switch(i=0,r&&(t=[0,r.value]),t[0]){case 0:case 1:r=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,i=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(r=a.trys,!(r=r.length>0&&r[r.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!r||t[1]>r[0]&&t[1]<r[3])){a.label=t[1];break}if(6===t[0]&&a.label<r[1]){a.label=r[1],r=t;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(t);break}r[2]&&a.ops.pop(),a.trys.pop();continue}t=l.call(n,a)}catch(n){t=[6,n],i=0}finally{e=r=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}var e,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},s=function(){function n(n,l){this.auth=n,this.truncate=l,this.savedSubject$=new e.BehaviorSubject({message:""}),this.saved$=this.savedSubject$.asObservable(),this.userForm=new u.e({message:new u.f})}return n.prototype.ngOnInit=function(){var n=this;console.log("init"),this.formSub$=this.userForm.get("message").valueChanges.debounceTime(1e3).distinctUntilChanged().map(function(l){return n.truncate.transform(l,["100"])}).subscribe(function(l){return n.saveMessage(l)}),this.authSub$=this.auth.user$.filter(function(n){return!!n}).subscribe(function(l){n.userReference=n.getUserRef(l.uid),n.watchMessage()})},n.prototype.getUserRef=function(n){return i.database().ref("users-fb-phone/"+n)},n.prototype.watchMessage=function(){var n=this;this.userReference&&this.userReference.on("value",function(l){return n.savedSubject$.next(l.val())})},n.prototype.unWatchMessage=function(){this.userReference&&this.userReference.off("value")},n.prototype.saveMessage=function(n){return o(this,void 0,void 0,function(){var l;return a(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.userReference.update({message:n})];case 1:return t.sent(),[3,3];case 2:return l=t.sent(),console.log("Error saving message: ",l),[3,3];case 3:return[2]}})})},n.prototype.loadData=function(n){return o(this,void 0,void 0,function(){var n,l;return a(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.userReference.once("value")];case 1:return n=t.sent(),this.savedSubject$.next(n.val()),[3,3];case 2:return l=t.sent(),console.error("Ah snap: ",l),[3,3];case 3:return[2]}})})},n.prototype.ngOnDestroy=function(){console.log("destroy messages"),this.formSub$&&this.formSub$.unsubscribe(),this.authSub$&&this.authSub$.unsubscribe(),this.unWatchMessage()},n.ctorParameters=function(){return[{type:r.a},{type:r.b}]},n}()},Gcjq:function(n,l,t){"use strict";function u(n){return s._15(0,[(n()(),s._16(0,null,null,14,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),s._17(null,["\n            "])),(n()(),s._16(0,null,null,1,"label",[["stacked",""]],null,null,null,null,null)),(n()(),s._17(null,["Phone Number"])),(n()(),s._17(null,["\n            "])),(n()(),s._16(0,null,null,5,"input",[["class","form-control"],["formControlName","phone"],["name","phone"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var u=!0;if("input"===l){u=!1!==s._20(n,6)._handleInput(t.target.value)&&u}if("blur"===l){u=!1!==s._20(n,6).onTouched()&&u}if("compositionstart"===l){u=!1!==s._20(n,6)._compositionStart()&&u}if("compositionend"===l){u=!1!==s._20(n,6)._compositionEnd(t.target.value)&&u}return u},null,null)),s._18(16384,null,0,_.k,[s.X,s.W,[2,_.l]],null,null),s._24(1024,null,_.m,function(n){return[n]},[_.k]),s._18(671744,null,0,_.n,[[3,_.i],[8,null],[8,null],[2,_.m]],{name:[0,"name"]},null),s._24(2048,null,_.o,null,[_.n]),s._18(16384,null,0,_.p,[_.o],null,null),(n()(),s._17(null,["\n            "])),(n()(),s._16(0,null,null,1,"small",[["class","form-text text-muted"]],null,null,null,null,null)),(n()(),s._17(null,["[+][country code][subscriber number including area code]"])),(n()(),s._17(null,["\n          "]))],function(n,l){n(l,8,0,"phone")},function(n,l){n(l,5,0,s._20(l,10).ngClassUntouched,s._20(l,10).ngClassTouched,s._20(l,10).ngClassPristine,s._20(l,10).ngClassDirty,s._20(l,10).ngClassValid,s._20(l,10).ngClassInvalid,s._20(l,10).ngClassPending)})}function e(n){return s._15(0,[(n()(),s._16(0,null,null,24,"div",[["class","col-6"]],null,null,null,null,null)),(n()(),s._17(null,["\n    "])),(n()(),s._16(0,null,null,21,"div",[["class","card card-login card-inverse"]],null,null,null,null,null)),(n()(),s._17(null,["\n      "])),(n()(),s._16(0,null,null,18,"div",[["class","card-block"]],null,null,null,null,null)),(n()(),s._17(null,["\n        "])),(n()(),s._16(0,null,null,1,"h4",[["class","card-title"]],null,null,null,null,null)),(n()(),s._17(null,["Authorise"])),(n()(),s._17(null,["\n        "])),(n()(),s._16(0,null,null,12,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,l,t){var u=!0,e=n.component;if("submit"===l){u=!1!==s._20(n,11).onSubmit(t)&&u}if("reset"===l){u=!1!==s._20(n,11).onReset()&&u}if("ngSubmit"===l){u=!1!==e.onSubmit(e.phoneForm)&&u}return u},null,null)),s._18(16384,null,0,_.g,[],null,null),s._18(540672,null,0,_.h,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),s._24(2048,null,_.i,null,[_.h]),s._18(16384,null,0,_.j,[_.i],null,null),(n()(),s._17(null,["\n          "])),(n()(),s._19(16777216,null,null,1,null,u)),s._18(16384,null,0,c.f,[s._1,s._2],{ngIf:[0,"ngIf"]},null),(n()(),s._17(null,["\n          "])),(n()(),s._16(0,null,null,2,"button",[["class","btn btn-primary btn-block"],["id","login"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),s._21(131072,c.g,[s._9]),(n()(),s._17(null,["Get Code"])),(n()(),s._17(null,["\n        "])),(n()(),s._17(null,["\n      "])),(n()(),s._17(null,["\n    "])),(n()(),s._17(null,["\n  "]))],function(n,l){var t=l.component;n(l,11,0,t.phoneForm),n(l,16,0,!t.confirmationResult)},function(n,l){var t=l.component;n(l,9,0,s._20(l,13).ngClassUntouched,s._20(l,13).ngClassTouched,s._20(l,13).ngClassPristine,s._20(l,13).ngClassDirty,s._20(l,13).ngClassValid,s._20(l,13).ngClassInvalid,s._20(l,13).ngClassPending),n(l,18,0,s._22(l,18,0,s._20(l,19).transform(t.auth.authenticated$))||t.phoneForm.invalid)})}function i(n){return s._15(0,[(n()(),s._16(0,null,null,40,"div",[["class","col-6"]],null,null,null,null,null)),(n()(),s._17(null,["\n    "])),(n()(),s._16(0,null,null,37,"div",[["class","card card-login card-inverse"]],null,null,null,null,null)),(n()(),s._17(null,["\n      "])),(n()(),s._16(0,null,null,34,"div",[["class","card-block"]],null,null,null,null,null)),(n()(),s._17(null,["\n        "])),(n()(),s._16(0,null,null,1,"h4",[["class","card-title"]],null,null,null,null,null)),(n()(),s._17(null,["Confirmation"])),(n()(),s._17(null,["\n        "])),(n()(),s._16(0,null,null,2,"button",[["class","btn btn-link btn-icon"]],null,[[null,"click"]],function(n,l,t){var u=!0,e=n.component;if("click"===l){u=!1!==e.reset()&&u}return u},null,null)),(n()(),s._16(0,null,null,1,"i",[["aria-hidden","true"],["class","fa fa-undo"]],null,null,null,null,null)),(n()(),s._17(null,[" "])),(n()(),s._17(null,["\n        "])),(n()(),s._16(0,null,null,24,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,l,t){var u=!0,e=n.component;if("submit"===l){u=!1!==s._20(n,15).onSubmit(t)&&u}if("reset"===l){u=!1!==s._20(n,15).onReset()&&u}if("ngSubmit"===l){u=!1!==e.onConfirmation(e.confirmationForm)&&u}return u},null,null)),s._18(16384,null,0,_.g,[],null,null),s._18(540672,null,0,_.h,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),s._24(2048,null,_.i,null,[_.h]),s._18(16384,null,0,_.j,[_.i],null,null),(n()(),s._17(null,["\n          "])),(n()(),s._16(0,null,null,14,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),s._17(null,["\n            "])),(n()(),s._16(0,null,null,1,"label",[["stacked",""]],null,null,null,null,null)),(n()(),s._17(null,["Enter Confirmation Code"])),(n()(),s._17(null,["\n            "])),(n()(),s._16(0,null,null,5,"input",[["class","form-control"],["formControlName","confirmationCode"],["name","confirmationCode"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var u=!0;if("input"===l){u=!1!==s._20(n,25)._handleInput(t.target.value)&&u}if("blur"===l){u=!1!==s._20(n,25).onTouched()&&u}if("compositionstart"===l){u=!1!==s._20(n,25)._compositionStart()&&u}if("compositionend"===l){u=!1!==s._20(n,25)._compositionEnd(t.target.value)&&u}return u},null,null)),s._18(16384,null,0,_.k,[s.X,s.W,[2,_.l]],null,null),s._24(1024,null,_.m,function(n){return[n]},[_.k]),s._18(671744,null,0,_.n,[[3,_.i],[8,null],[8,null],[2,_.m]],{name:[0,"name"]},null),s._24(2048,null,_.o,null,[_.n]),s._18(16384,null,0,_.p,[_.o],null,null),(n()(),s._17(null,["\n            "])),(n()(),s._16(0,null,null,1,"small",[["class","form-text text-muted"]],null,null,null,null,null)),(n()(),s._17(null,["SMS should arrive pretty quickly (if your country is supported by Firebase)"])),(n()(),s._17(null,["\n          "])),(n()(),s._17(null,["\n          "])),(n()(),s._16(0,null,null,1,"button",[["class","btn btn-primary btn-block"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(n()(),s._17(null,["Send Code"])),(n()(),s._17(null,["\n        "])),(n()(),s._17(null,["\n      "])),(n()(),s._17(null,["\n    "])),(n()(),s._17(null,["\n\n  "]))],function(n,l){n(l,15,0,l.component.confirmationForm);n(l,27,0,"confirmationCode")},function(n,l){var t=l.component;n(l,13,0,s._20(l,17).ngClassUntouched,s._20(l,17).ngClassTouched,s._20(l,17).ngClassPristine,s._20(l,17).ngClassDirty,s._20(l,17).ngClassValid,s._20(l,17).ngClassInvalid,s._20(l,17).ngClassPending),n(l,24,0,s._20(l,29).ngClassUntouched,s._20(l,29).ngClassTouched,s._20(l,29).ngClassPristine,s._20(l,29).ngClassDirty,s._20(l,29).ngClassValid,s._20(l,29).ngClassInvalid,s._20(l,29).ngClassPending),n(l,35,0,t.confirmationForm.invalid)})}function r(n){return s._15(0,[(n()(),s._16(0,null,null,7,"div",[["class","row flex justify-content-center"]],null,null,null,null,null)),(n()(),s._17(null,["\n  "])),(n()(),s._19(16777216,null,null,1,null,e)),s._18(16384,null,0,c.f,[s._1,s._2],{ngIf:[0,"ngIf"]},null),(n()(),s._17(null,["\n\n  "])),(n()(),s._19(16777216,null,null,1,null,i)),s._18(16384,null,0,c.f,[s._1,s._2],{ngIf:[0,"ngIf"]},null),(n()(),s._17(null,["\n\n"]))],function(n,l){var t=l.component;n(l,3,0,!t.confirmationResult),n(l,6,0,t.confirmationResult)},null)}function o(n){return s._15(0,[(n()(),s._16(0,null,null,1,"login",[],null,null,null,r,d)),s._18(114688,null,0,f.a,[h.a,_.a],null,null)],function(n,l){n(l,1,0)},null)}var a=t("ajF7"),s=t("/oeL"),_=t("bm2B"),c=t("qbdv"),f=t("K181"),h=t("NXBG");t.d(l,"b",function(){return d}),l.a=r;var p=[a.a],d=s._14({encapsulation:0,styles:p,data:{}});s._23("login",f.a,o,{},{},[])},K181:function(n,l,t){"use strict";var u=t("bm2B"),e=t("mQGb");t.d(l,"a",function(){return o});var i=this&&this.__awaiter||function(n,l,t,u){return new(t||(t=Promise))(function(e,i){function r(n){try{a(u.next(n))}catch(n){i(n)}}function o(n){try{a(u.throw(n))}catch(n){i(n)}}function a(n){n.done?e(n.value):new t(function(l){l(n.value)}).then(r,o)}a((u=u.apply(n,l||[])).next())})},r=this&&this.__generator||function(n,l){function t(n){return function(l){return u([n,l])}}function u(t){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,i&&(r=i[2&t[0]?"return":t[0]?"throw":"next"])&&!(r=r.call(i,t[1])).done)return r;switch(i=0,r&&(t=[0,r.value]),t[0]){case 0:case 1:r=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,i=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(r=a.trys,!(r=r.length>0&&r[r.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!r||t[1]>r[0]&&t[1]<r[3])){a.label=t[1];break}if(6===t[0]&&a.label<r[1]){a.label=r[1],r=t;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(t);break}r[2]&&a.ops.pop(),a.trys.pop();continue}t=l.call(n,a)}catch(n){t=[6,n],i=0}finally{e=r=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}var e,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},o=function(){function n(n,l){this.auth=n,this.fb=l}return n.prototype.ngOnInit=function(){this.buildForms()},n.prototype.onSubmit=function(n){var l=n.value;n.valid;this.confirmationResult=null,this.logIn(l.phone)},n.prototype.logIn=function(n){return i(this,void 0,void 0,function(){var l,t;return r(this,function(u){switch(u.label){case 0:return l=/^\+/,n=l.test(n)?n:"+"+n,t=this,[4,this.auth.login(n,{buttonId:"login"})];case 1:return t.confirmationResult=u.sent(),[2]}})})},n.prototype.onConfirmation=function(n){var l=n.value;n.valid;this.confirmationResult&&this.sendCode(l.confirmationCode)},n.prototype.sendCode=function(n){return i(this,void 0,void 0,function(){var l,t;return r(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this.auth.sendCode(this.confirmationResult,n)];case 1:return l=u.sent(),[3,3];case 2:return t=u.sent(),console.log("Sign in error ::: ",t),this.auth.logout(),[3,3];case 3:return[2]}})})},n.prototype.reset=function(){this.confirmationResult=null},n.prototype.buildForms=function(){this.phoneForm=this.fb.group({phone:["",[u.q.required,u.q.minLength(8),u.q.maxLength(16)]]}),this.confirmationForm=this.fb.group({confirmationCode:["",[u.q.required,u.q.minLength(4)]]})},n.ctorParameters=function(){return[{type:e.a},{type:u.a}]},n}()},NXBG:function(n,l,t){"use strict";var u=t("gvep"),e=(t.n(u),t("HHMy"));t.n(e);t.d(l,"a",function(){return i});var i=function(){function n(){this.userSubject$=new u.BehaviorSubject(n.NO_USER),this.user$=this.userSubject$.asObservable().map(function(l){return l.uid&&l.uid!==n.NO_USER.uid?l:null}),this.authenticated$=this.user$.filter(function(n){return!!n}).map(function(l){return l.uid!==n.UNKNOWN_USER.uid})}return n.prototype.checkAuthState=function(){var l=this;e.auth().onAuthStateChanged(function(t){t?l.userSubject$.next(t):l.userSubject$.next(n.UNKNOWN_USER)})},n.prototype.generateRecaptcha=function(n){var l=void 0===n?{}:n,t=l.buttonId,u=void 0===t?null:t,i=l.recaptchaId,r=void 0===i?null:i;return r?new e.auth.RecaptchaVerifier(r):new e.auth.RecaptchaVerifier(u,{size:"invisible"})},n.prototype.login=function(n,l){return void 0===l&&(l={}),this.recaptchaVerifier=this.generateRecaptcha(l),e.auth().signInWithPhoneNumber(n,this.recaptchaVerifier)},n.prototype.sendCode=function(n,l){return n.confirm(l)},n.prototype.logout=function(){var l=this;e.auth().signOut().then(function(){return l.userSubject$.next(n.UNKNOWN_USER)})},n.ctorParameters=function(){return[]},n}();i.NO_USER={uid:"non"},i.UNKNOWN_USER={uid:"unknown"}},"aR8+":function(n,l,t){"use strict";var u=t("azLz"),e=(t.n(u),t("MBEm")),i=(t.n(e),t("5v8a")),r=(t.n(i),t("gbhw")),o=(t.n(r),t("82j9")),a=(t.n(o),t("eqpX"));t.n(a);t.d(l,"a",function(){return s});var s=function(){function n(){}return n}()},ajF7:function(n,l,t){"use strict";t.d(l,"a",function(){return u});var u=[""]},cDNt:function(n,l,t){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var u=t("/oeL"),e=t("p5Ee"),i=t("fc+i"),r=t("+h1B");e.a.production&&t.i(u.a)(),t.i(i.a)().bootstrapModuleFactory(r.a)},eMXg:function(n,l,t){"use strict";function u(n){return r._15(0,[(n()(),r._16(0,null,null,49,"div",[["class","row flex"]],null,null,null,null,null)),(n()(),r._17(null,["\n  "])),(n()(),r._16(0,null,null,30,"div",[["class","col"]],null,null,null,null,null)),(n()(),r._17(null,["\n\n    "])),(n()(),r._16(0,null,null,27,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,t){var u=!0;if("submit"===l){u=!1!==r._20(n,6).onSubmit(t)&&u}if("reset"===l){u=!1!==r._20(n,6).onReset()&&u}return u},null,null)),r._18(16384,null,0,o.g,[],null,null),r._18(540672,null,0,o.h,[[8,null],[8,null]],{form:[0,"form"]},null),r._24(2048,null,o.i,null,[o.h]),r._18(16384,null,0,o.j,[o.i],null,null),(n()(),r._17(null,["\n      "])),(n()(),r._16(0,null,null,20,"div",[["class","card card-inverse"]],null,null,null,null,null)),(n()(),r._17(null,["\n        "])),(n()(),r._16(0,null,null,17,"div",[["class","card-block"]],null,null,null,null,null)),(n()(),r._17(null,["\n          "])),(n()(),r._16(0,null,null,1,"h4",[["class","card-title"]],null,null,null,null,null)),(n()(),r._17(null,["Message"])),(n()(),r._17(null,["\n          "])),(n()(),r._16(0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),r._17(null,["\n            "])),(n()(),r._16(0,null,null,1,"label",[["stacked",""]],null,null,null,null,null)),(n()(),r._17(null,["Write a Message to Yourself"])),(n()(),r._17(null,["\n            "])),(n()(),r._16(0,null,null,5,"input",[["class","form-control"],["formControlName","message"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var u=!0;if("input"===l){u=!1!==r._20(n,23)._handleInput(t.target.value)&&u}if("blur"===l){u=!1!==r._20(n,23).onTouched()&&u}if("compositionstart"===l){u=!1!==r._20(n,23)._compositionStart()&&u}if("compositionend"===l){u=!1!==r._20(n,23)._compositionEnd(t.target.value)&&u}return u},null,null)),r._18(16384,null,0,o.k,[r.X,r.W,[2,o.l]],null,null),r._24(1024,null,o.m,function(n){return[n]},[o.k]),r._18(671744,null,0,o.n,[[3,o.i],[8,null],[8,null],[2,o.m]],{name:[0,"name"]},null),r._24(2048,null,o.o,null,[o.n]),r._18(16384,null,0,o.p,[o.o],null,null),(n()(),r._17(null,["\n          "])),(n()(),r._17(null,["\n        "])),(n()(),r._17(null,["\n      "])),(n()(),r._17(null,["\n    "])),(n()(),r._17(null,["\n\n  "])),(n()(),r._17(null,["\n  "])),(n()(),r._16(0,null,null,14,"div",[["class","col"]],null,null,null,null,null)),(n()(),r._17(null,["\n    "])),(n()(),r._16(0,null,null,11,"div",[["class","card card-inverse"]],null,null,null,null,null)),(n()(),r._17(null,["\n      "])),(n()(),r._16(0,null,null,8,"div",[["class","card-block"]],null,null,null,null,null)),(n()(),r._17(null,["\n        "])),(n()(),r._16(0,null,null,1,"h4",[["class","card-title"]],null,null,null,null,null)),(n()(),r._17(null,["Your Previous Message"])),(n()(),r._17(null,["\n        "])),(n()(),r._16(0,null,null,2,"p",[["class","card-text"]],null,null,null,null,null)),(n()(),r._17(null,["",""])),r._21(131072,a.g,[r._9]),(n()(),r._17(null,["\n      "])),(n()(),r._17(null,["\n    "])),(n()(),r._17(null,["\n  "])),(n()(),r._17(null,["\n\n"]))],function(n,l){n(l,6,0,l.component.userForm);n(l,25,0,"message")},function(n,l){var t=l.component;n(l,4,0,r._20(l,8).ngClassUntouched,r._20(l,8).ngClassTouched,r._20(l,8).ngClassPristine,r._20(l,8).ngClassDirty,r._20(l,8).ngClassValid,r._20(l,8).ngClassInvalid,r._20(l,8).ngClassPending),n(l,22,0,r._20(l,27).ngClassUntouched,r._20(l,27).ngClassTouched,r._20(l,27).ngClassPristine,r._20(l,27).ngClassDirty,r._20(l,27).ngClassValid,r._20(l,27).ngClassInvalid,r._20(l,27).ngClassPending);var u=null;n(l,44,0,null==(u=r._22(l,44,0,r._20(l,45).transform(t.saved$)))?null:u.message)})}function e(n){return r._15(0,[(n()(),r._16(0,null,null,1,"messages",[],null,null,null,u,h)),r._18(245760,null,0,s.a,[_.a,c.a],null,null)],function(n,l){n(l,1,0)},null)}var i=t("ziUC"),r=t("/oeL"),o=t("bm2B"),a=t("qbdv"),s=t("34O4"),_=t("NXBG"),c=t("sEUi");t.d(l,"b",function(){return h}),l.a=u;var f=[i.a],h=r._14({encapsulation:0,styles:f,data:{}});r._23("messages",s.a,e,{},{},[])},iUwI:function(n,l,t){"use strict";t.d(l,"a",function(){return u});var u={apiKey:"AIzaSyCb8zByQ0Amk0udHoQx7F0wDgQgJEdZ5CE",authDomain:"authentication-29564.firebaseapp.com",databaseURL:"https://authentication-29564.firebaseio.com",projectId:"authentication-29564",storageBucket:"authentication-29564.appspot.com",messagingSenderId:"180127456081"}},k7ea:function(n,l,t){"use strict";t.d(l,"a",function(){return u});var u=[""]},mQGb:function(n,l,t){"use strict";var u=t("sEUi");t.d(l,"b",function(){return u.a});var e=t("NXBG");t.d(l,"a",function(){return e.a})},p5Ee:function(n,l,t){"use strict";t.d(l,"a",function(){return u});var u={production:!0}},q4dy:function(n,l,t){"use strict";function u(n){return c._15(0,[(n()(),c._16(0,null,null,4,"li",[["class","nav-item active"]],null,null,null,null,null)),(n()(),c._17(null,["\n        "])),(n()(),c._16(0,null,null,1,"a",[["class","nav-link"],["href","#"]],null,[[null,"click"]],function(n,l,t){var u=!0,e=n.component;if("click"===l){u=!1!==e.auth.logout()&&u}return u},null,null)),(n()(),c._17(null,["Logout"])),(n()(),c._17(null,["\n      "]))],null,null)}function e(n){return c._15(0,[(n()(),c._17(null,["\n    "])),(n()(),c._16(0,null,null,4,"li",[["class","nav-item"]],null,null,null,null,null)),(n()(),c._17(null,["\n      "])),(n()(),c._16(0,null,null,1,"a",[["class","nav-link"],["href","#"]],null,null,null,null,null)),(n()(),c._17(null,["Login"])),(n()(),c._17(null,["\n    "])),(n()(),c._17(null,["\n  "]))],null,null)}function i(n){return c._15(0,[(n()(),c._17(null,["\n\n    "])),(n()(),c._17(null,["\n\n    "])),(n()(),c._16(0,null,null,1,"login",[],null,null,null,f.a,f.b)),c._18(114688,null,0,h.a,[p.a,d.a],null,null),(n()(),c._17(null,["\n\n  "]))],function(n,l){n(l,3,0)},null)}function r(n){return c._15(0,[(n()(),c._16(0,null,null,18,"div",[],null,null,null,null,null)),(n()(),c._17(null,["\n      "])),(n()(),c._16(0,null,null,12,"div",[["class","row"]],null,null,null,null,null)),(n()(),c._17(null,["\n        "])),(n()(),c._16(0,null,null,9,"div",[["class","col"]],null,null,null,null,null)),(n()(),c._17(null,["\n          "])),(n()(),c._16(0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),c._17(null,["Logged In"])),(n()(),c._17(null,["\n          "])),(n()(),c._16(0,null,null,3,"p",[],null,null,null,null,null)),(n()(),c._17(null,["\n            Authenticated by your phone number."])),(n()(),c._16(0,null,null,0,"br",[],null,null,null,null,null)),(n()(),c._17(null,[" Type yourself a message to save to the database...\n          "])),(n()(),c._17(null,["\n        "])),(n()(),c._17(null,["\n      "])),(n()(),c._17(null,["\n\n      "])),(n()(),c._16(0,null,null,1,"messages",[],null,null,null,g.a,g.b)),c._18(245760,null,0,m.a,[p.a,b.a],null,null),(n()(),c._17(null,["\n\n    "]))],function(n,l){n(l,17,0)},null)}function o(n){return c._15(0,[(n()(),c._16(0,null,null,4,"div",[],null,null,null,null,null)),(n()(),c._17(null,["\n    "])),(n()(),c._19(16777216,null,null,1,null,r)),c._18(16384,null,0,v.f,[c._1,c._2],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),c._17(null,["\n  "]))],function(n,l){n(l,3,0,"unknown"!==l.context.ngIf.uid,c._20(l.parent,26))},null)}function a(n){return c._15(0,[(n()(),c._16(0,null,null,13,"nav",[["class","navbar navbar-toggleable-md navbar-inverse bg-inverse fixed-top"]],null,null,null,null,null)),(n()(),c._17(null,["\n\n  "])),(n()(),c._16(0,null,null,8,"div",[["class","collapse navbar-collapse"]],null,null,null,null,null)),(n()(),c._17(null,["\n    "])),(n()(),c._16(0,null,null,5,"ul",[["class","navbar-nav mr-auto"]],null,null,null,null,null)),(n()(),c._17(null,["\n      "])),(n()(),c._19(16777216,null,null,2,null,u)),c._18(16384,null,0,v.f,[c._1,c._2],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),c._21(131072,v.g,[c._9]),(n()(),c._17(null,["\n    "])),(n()(),c._17(null,["\n  "])),(n()(),c._17(null,["\n  "])),(n()(),c._19(0,[["signin",2]],null,0,null,e)),(n()(),c._17(null,["\n\n"])),(n()(),c._17(null,["\n\n"])),(n()(),c._16(0,null,null,16,"div",[["class","container"]],null,null,null,null,null)),(n()(),c._17(null,["\n\n  "])),(n()(),c._16(0,null,null,7,"div",[["class","info"]],null,null,null,null,null)),(n()(),c._17(null,["\n    "])),(n()(),c._16(0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),c._17(null,["Phone Number Login"])),(n()(),c._17(null,["\n    "])),(n()(),c._16(0,null,null,1,"p",[["class","lead"]],null,null,null,null,null)),(n()(),c._17(null,["\n      Phone number verification with Firebase\n    "])),(n()(),c._17(null,["\n  "])),(n()(),c._17(null,["\n\n  "])),(n()(),c._19(0,[["login",2]],null,0,null,i)),(n()(),c._17(null,["\n\n\n  "])),(n()(),c._19(16777216,null,null,2,null,o)),c._18(16384,null,0,v.f,[c._1,c._2],{ngIf:[0,"ngIf"]},null),c._21(131072,v.g,[c._9]),(n()(),c._17(null,["\n\n\n"])),(n()(),c._17(null,["\n"]))],function(n,l){var t=l.component;n(l,7,0,c._22(l,7,0,c._20(l,8).transform(t.auth.authenticated$)),c._20(l,12)),n(l,29,0,c._22(l,29,0,c._20(l,30).transform(t.auth.user$)))},null)}function s(n){return c._15(0,[(n()(),c._16(0,null,null,1,"app-root",[],null,null,null,a,C)),c._18(114688,null,0,y.a,[p.a],null,null)],function(n,l){n(l,1,0)},null)}var _=t("k7ea"),c=t("/oeL"),f=t("Gcjq"),h=t("K181"),p=t("NXBG"),d=t("bm2B"),g=t("eMXg"),m=t("34O4"),b=t("sEUi"),v=t("qbdv"),y=t("wQAS");t.d(l,"a",function(){return I});var S=[_.a],C=c._14({encapsulation:0,styles:S,data:{}}),I=c._23("app-root",y.a,s,{},{},[])},qtrl:function(n,l){function t(n){throw new Error("Cannot find module '"+n+"'.")}t.keys=function(){return[]},t.resolve=t,n.exports=t,t.id="qtrl"},sEUi:function(n,l,t){"use strict";t.d(l,"a",function(){return u});var u=function(){function n(){}return n.prototype.transform=function(n,l){var t=l.length>0?parseInt(l[0],10):10,u=l.length>1?l[1]:"...";return n.length>t?n.substring(0,t)+u:n},n}()},wQAS:function(n,l,t){"use strict";var u=t("HHMy"),e=(t.n(u),t("NXBG")),i=t("iUwI");t.d(l,"a",function(){return r});var r=function(){function n(n){this.auth=n}return n.prototype.ngOnInit=function(){u.initializeApp(i.a),this.auth.checkAuthState()},n.ctorParameters=function(){return[{type:e.a}]},n}()},ziUC:function(n,l,t){"use strict";t.d(l,"a",function(){return u});var u=[""]}},[0]);